# R for travis: see documentation at https://docs.travis-ci.com/user/languages/r

language: R
sudo: required
cache: packages
warnings_are_errors: false

dist: trusty

before_install:
    - sudo add-apt-repository ppa:ubuntugis/ubuntugis-unstable --yes
    - sudo apt-get --yes --force-yes update -qq
    - sudo apt-get install --yes udunits-bin libproj-dev libgeos-dev libgdal-dev libgdal1-dev libudunits2-dev

#addons:
#  apt:
#    packages:
#      - libhdf5-dev
#      - libgdal-dev
#      - libproj-dev

r_binary_packages:
 - rgdal
 - Rcpp
 - raster
 - maptools
 - testthat
 - covr
 - RColorBrewer
 - TeachingDemos
 - maps
 - sp
 - plyr
 - pracma

#r_github_packages:
 #- abarbour/kelvin

notifications:
 email:
  on_success: change
  on_failure: change

after_success:
  - Rscript -e 'covr::codecov()'